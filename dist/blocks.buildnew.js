(function(modules) { // webpackBootstrap
// The module cache
var installedModules = {};

// The require function
function __webpack_require__(moduleId) {

// Check if module is in cache
if(installedModules[moduleId]) {
	return installedModules[moduleId].exports;
}
// Create a new module (and put it into the cache)
var module = installedModules[moduleId] = {
	i: moduleId,
	l: false,
	exports: {}
};

// Execute the module function
modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

// Flag the module as loaded
module.l = true;

// Return the exports of the module
	return module.exports;
}


// expose the modules object (__webpack_modules__)
__webpack_require__.m = modules;

// expose the module cache
__webpack_require__.c = installedModules;

// define getter function for harmony exports
__webpack_require__.d = function(exports, name, getter) {
	if(!__webpack_require__.o(exports, name)) {
		Object.defineProperty(exports, name, { enumerable: true, get: getter });
	}
};

// define __esModule on exports
__webpack_require__.r = function(exports) {
	if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
		Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
	}
	Object.defineProperty(exports, '__esModule', { value: true });
};

// create a fake namespace object
// mode & 1: value is a module id, require it
// mode & 2: merge all properties of value into the ns
// mode & 4: return value when already ns object
// mode & 8|1: behave like require
__webpack_require__.t = function(value, mode) {
	if(mode & 1) value = __webpack_require__(value);
	if(mode & 8) return value;
	if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
	var ns = Object.create(null);
	__webpack_require__.r(ns);
	Object.defineProperty(ns, 'default', { enumerable: true, value: value });
	if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
	return ns;
};

// getDefaultExport function for compatibility with non-harmony modules
__webpack_require__.n = function(module) {
	var getter = module && module.__esModule ?
	function getDefault() { return module['default']; } :
	function getModuleExports() { return module; };
	__webpack_require__.d(getter, 'a', getter);
	return getter;
};

// Object.prototype.hasOwnProperty.call
__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

// __webpack_public_path__
__webpack_require__.p = "";


// Load entry module and return exports
return __webpack_require__(__webpack_require__.s = "./src/index.js");
})
/************************************************************************/
({

"./src/block/editor.scss":
/*!*******************************!*\
  !*** ./src/block/editor.scss ***!
  \*******************************/
/*! no static exports found */
(function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2svZWRpdG9yLnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2svZWRpdG9yLnNjc3M/ZmI3MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/block/editor.scss\n");

}),

"./src/block/inknew.js":
/*!**************************!*\
  !*** ./src/block/inknew.js ***!
  \**************************/
/*! no exports provided */
(function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.scss */ \"./src/block/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor.scss */ \"./src/block/editor.scss\");\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_editor_scss__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * BLOCK: my-block\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n//  Import CSS.\n\n\n\nvar __ = wp.i18n.__; // The __() for internationalization.\nvar registerBlockType = wp.blocks.registerBlockType; // The registerBlockType() to register blocks.\nvar _wp$editor = wp.editor,\n    MediaUpload = _wp$editor.MediaUpload,\n    PlainText = _wp$editor.PlainText,\n    InnerBlocks = _wp$editor.InnerBlocks;\nvar Button = wp.components.Button;\n\nvar RichText = wp.editor.RichText;\nvar el = wp.element.createElement;\nvar iconEl = el('svg', { width: 20, height: 20 }, el('path', { d: \"M1.19351,4.13526H2.43137V13H1.19351Z\" }), el('path', { d: \"M5.65246,4.13526H6.97971l2.729,6.26627h.02984V4.13526h1.07379V13H9.679L6.78594,6.19917H6.7411V13H5.65246Z\" }), el('path', { d: \"M14.0486,4.02083h1.23786v4.536l2.6395-4.536h1.23772L17.09091,7.56161,19.19351,13H17.88126L16.196,8.5316l-.90958,1.43605V13H14.0486Z\" }), el('path', { d: \"M1.19351,15h18v1h-18Z\" }));\n\njQuery(document).click(function () {\n    var data_type = jQuery('.block-editor-block-list__block.is-selected').attr('data-type');\n    if (data_type == \"ink-adddata/ink-adddata-ink\") {\n        if (jQuery('.edit-post-header__settings button.components-icon-button').hasClass('is-toggled')) {} else {\n            jQuery('.edit-post-header__settings button.components-icon-button').click();\n        }\n    }\n});\n\n/**\n * Register: a Gutenberg Block.\n *\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made editor as an option to any\n * editor interface where blocks are implemented.\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\n\nregisterBlockType(\"ink-adddata/ink-adddata-ink\", {\n    title: 'Upload .ink File',\n    description: 'INK Block allows you to import .INK file and convert content into blocks.',\n    icon: iconEl,\n    category: 'inkblock',\n\n    attributes: {\n        content: {\n            type: 'array',\n            source: 'children',\n            selector: 'div'\n        }\n    },\n\n    /**\n     * The edit function describes the structure of your block in the context of the editor.\n     * This represents what the editor will render when the block is used.\n     *\n     * The \"edit\" property must be a valid function.\n     *\n     * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n     */\n\n    // The \"edit\" property must be a valid function.\n    edit: function edit(props) {\n        var content = props.attributes.content;\n        function onChangeContent(newContentt) {\n            props.setAttributes({ content: newContentt });\n        };\n\n        return wp.element.createElement(\n            \"div\",\n            { className: props.className },\n            wp.element.createElement(\n                \"button\",\n                {\n                    className: \"add-more-file\",\n                    onClick: function onClick() {\n                        var ink = wp.media({\n                            title: 'Upload .ink File',\n                            multiple: false,\n                            library: { type: 'ink' }\n                        }).open().on('select', function (e) {\n                            jQuery('body').prepend('<div class=\"loader_overlay\"><div id=\"loader\"><img src=\"' + inkObj.pluginsUrl + '/ink-official/images/ink.gif\" class=\"loader_img\"/> </div></div>');\n                            jQuery('#ink_import_btn').hide();\n                            jQuery('#inkloader').show();\n                            var uploaded_ink = ink.state().get('selection').first();\n                            var ink_url = uploaded_ink.toJSON().url; /*Changes*/\n                            var filename = ink_url;\n                            var fileExt = filename.substring(filename.lastIndexOf('.') + 1, filename.length) || filename;\n                            console.log(fileExt);\n                            if (fileExt !== 'ink') {\n                                alert('The editor support only .ink files');\n                                jQuery('.loader_overlay').remove();\n                                return false;\n                            }\n                            /*End Changes*/\n                            var data = { 'ink_file_url': ink_url, action: 'ink_action' };\n\n                            jQuery.post(inkObj.inkUrl, data, function (response) {\n                                jQuery('#loader').show();\n                                wp.data.dispatch('core/editor').resetBlocks([]);\n                                var block = wp.blocks.createBlock('core/paragraph', { content: '' });\n                                var img_index = 0;\n                                jQuery.each(response.guten_content, function (index, value) {\n   // console.log(value);\n                                if (value != \"\") {\n      value = value.replace(\"</p></p>\", \"\");\n value = value.replace(\"<p></p>\", \"\");\n  value = value.replace(\"<p><p>\", \"\");\n                                 //guten_images\n                                        if (value.indexOf(\"INK_IMG_\") >= 0) {\n                                            value = value.replace(\"</p>\", \"\");\n                                            var index_guten_images = \"INK_IMG_\" + img_index;\n                                            block = wp.blocks.createBlock('core/image', { align: response.guten_images[\"INK_IMG_\" + img_index]['align'], alt: response.guten_images[\"INK_IMG_\" + img_index]['alt'], caption: response.guten_images[\"INK_IMG_\" + img_index]['caption'], id: response.guten_images[\"INK_IMG_\" + img_index]['id'], link: \"\", linkDestination: \"none\", url: response.guten_images[\"INK_IMG_\" + img_index]['url'], height: response.guten_images[\"INK_IMG_\" + img_index]['height'], width: response.guten_images[\"INK_IMG_\" + img_index]['width'] });\n\n                                            wp.data.dispatch('core/editor').insertBlocks(block);\n                                            img_index = img_index + 1;\n                                        } else if (value.indexOf(\"<h\") >= 0) {\n                                                var headings = value;\n                                                var hCount = headings.split('</h');\n                                                var i;\n                                                for (i = 0; i < hCount.length - 1; i++) {\n\n                                                    var htext = hCount[i];\n                                                    var htextclean = htext.replace(/^\\d+>/, '');\n                                                    htextclean = htextclean.trim();\n                                                    var afterH = htextclean.match(/<h\\d+>(.+)/gm);\n                                                    //console.log('log 1');\n                                                    //console.log(afterH);\n                                                    if (afterH.length) {\n                                                        afterH = afterH[0];\n                                                    } else {\n                                                        afterH = \"\";\n                                                    }\n                                                    //console.log('log 2');\n                                                    //console.log(afterH);\n                                                    var beforeH = htextclean.replace(/<h\\d+>(.+)/gm, '');\n                                                    //console.log('log 3');\n                                                    //console.log(beforeH);\n                                                    //console.log('log 4');\n                                                    //console.log(htext);\n\n                                                    var hwithNo = afterH.split('<')[1].split('>')[0];\n                                                    //console.log('log 5');\n                                                    //console.log(hwithNo);\n                                                    var onlyNo = hwithNo.replace(\"h\", \"\");\n                                                    //console.log('log 6');\n                                                   // console.log(onlyNo);\n\n                                                    afterH = afterH.replace(/<?h?\\d+>/, '');\n                                                    //console.log('log 7');\n                                                    //console.log(afterH);\n                                                    if (beforeH && beforeH.trim()) {\n                                                        block = wp.blocks.createBlock('core/paragraph', { content: beforeH });\n                                                        wp.data.dispatch('core/editor').insertBlocks(block);\n                                                    }\n                                                    if (afterH && afterH.trim()) {\n block = wp.blocks.createBlock('core/heading', { level: Number(onlyNo),  content: afterH });\n                                                        wp.data.dispatch('core/editor').insertBlocks(block);\n                                                    }\n                                                }\n\n                                                /*\n                                                                                    var heading_text = res[1];\n                                                                                    var h_level = res[1].split('<')[1].split('>')[0];\n                                                                                    heading_text = heading_text.split('<'+h_level+'>')[1].split('</'+h_level+'>')[0];\n                                                                                    h_level = h_level.replace(\"h\", \"\");\n                                                                                    block = wp.blocks.createBlock( 'core/heading', { content: heading_text } );\n                                                                                    //block = wp.blocks.createBlock( 'core/heading', { content: heading_text, level:h_level } );\n                                                                                    wp.data.dispatch( 'core/editor' ).insertBlocks( block );\n                                                */\n                                            } else if (value.indexOf(\"ink_container\") >= 0) {\n                                            value = value.replace(\"</p></p>\", \"\");\n                                            value = value.replace(\"</p>\", \"\");\n                                            value = value.replace(\"<p><p>\", \"\");\n                                            value = value.replace(\"<p>\", \"\");\n                                            value = value.replace('<div class=\"ink_container\">', '');\n                                            value = value.replace(\"</div>\", \"\");\n                                            block = wp.blocks.createBlock(\"core/embed\", { url: value, allowResponsive: true, className: \"wp-embed-aspect-16-9 wp-has-aspect-ratio\", providerNameSlug: \"youtube\", type: \"video\" });\n                                            //block = wp.blocks.createBlock( 'core/html', { content: value } );\n                                            wp.data.dispatch('core/editor').insertBlocks(block);\n                                        } else if (value.indexOf(\"<ul\") >= 0) {\n var res = value.split(\"<ul>\");\n var j; for (j = 0; j < res.length; j++) {if (res[j].includes('</ul>')) {\n res[j] = res[j].replace(\"</ul>\", \"\");\n res[j] = res[j].replace(\"<ul>\", \"\");\n res[j] = res[j].replace(\"\/n\", \"\"); \n block = wp.blocks.createBlock('core/list', { values:  res[j] });\n wp.data.dispatch('core/block-editor').insertBlocks(block);\n } else {\n if (res[j] != \"\") {res[j] = res[j].replace(\"</p>\", \"\");\n block = wp.blocks.createBlock('core/paragraph', { content: res[j] });\n wp.data.dispatch('core/block-editor').insertBlocks(block);}} } } else if (value.indexOf(\"<ol\") >= 0) {\n var res = value.split(\"<ol>\");\n var j; for (j = 0; j < res.length; j++) {if (res[j].includes('</ol>')) {\n res[j] = res[j].replace(\"</ol>\", \"\");\n res[j] = res[j].replace(\"<ol>\", \"\");\n  res[j] = res[j].replace(\"\/n\", \"\"); \n block = wp.blocks.createBlock('core/list', { ordered: true, values:  res[j] });\n wp.data.dispatch('core/block-editor').insertBlocks(block);\n } else {\n if (res[j] != \"\") {res[j] = res[j].replace(\"</p>\", \"\");\n block = wp.blocks.createBlock('core/paragraph', { content: res[j] });\n wp.data.dispatch('core/block-editor').insertBlocks(block);} } } } else {\n                                            value = value.replace(\"</p>\", \"\");\n     value = value.replace(\"<p>\", \"\");\n                                       block = wp.blocks.createBlock('core/paragraph', { content: value });\n                                            wp.data.dispatch('core/editor').insertBlocks(block);\n                                        }\n                                    }\n                                });\n\n                                var block_ink = wp.blocks.createBlock('ink-adddata/ink-adddata-ink', {});\n                                wp.data.dispatch('core/editor').insertBlocks(block_ink);\n                                wp.data.dispatch('core/editor').editPost({ featured_media: response.thumbnail_id });\n                                if (response.title) {\n                                    jQuery('#post-title-0').val(response.title);\n                                    jQuery('input[name=\"ink_post_title\"]').val(response.title);\n                                    jQuery('h3._snippet_head').html(response.title);\n                                    wp.data.dispatch('core/editor').editPost({ title: response.title });\n                                }\n                                if (response.thumbnail_id) {\n                                    jQuery('input[name=\"_thumbnail_id\"]').val(response.thumbnail_id);\n                                    jQuery('input[name=\"featured_media\"]').val(response.thumbnail_id);\n                                    var imgsrc = '<img width=\"266\" height=\"135\" src=\"' + response.thumbnail_url + '\" class=\"attachment-266x266 size-266x266\">';\n                                    jQuery('#set-post-thumbnail').html(imgsrc);\n                                }\n                                if (response.ink_metatitle) {\n                                    jQuery('input[name=\"ink_metatitle\"]').val(response.ink_metatitle);\n                                    jQuery('input[name=\"yoast_wpseo_title\"]').val(response.ink_metatitle);\n                                } else {\n                                    jQuery('input[name=\"ink_metatitle\"]').val('');\n                                    jQuery('input[name=\"yoast_wpseo_title\"]').val('');\n                                }\n                                if (response.ink_metadesc) {\n                                    jQuery('#ink_metadesc').val(response.ink_metadesc);\n                                    jQuery('input[name=\"yoast_wpseo_metadesc\"]').val(response.ink_metadesc);\n                                    jQuery('span._snippet_desc').html(response.ink_metadesc);\n                                } else {\n                                    jQuery('#ink_metadesc').val('');\n                                    jQuery('input[name=\"yoast_wpseo_metadesc\"]').val('');\n                                    jQuery('span._snippet_desc').html('');\n                                }\n                                if (response.ink_keywords) {\n                                    jQuery('#ink_keywords').val(response.ink_keywords);\n                                    jQuery('#focus-keyword-input-metabox').val(response.ink_keywords);\n\n                                    jQuery('input[name=\"yoast_wpseo_focuskw\"]').val(response.ink_keywords);\n                                } else {\n                                    jQuery('#ink_keywords').val('');\n                                    jQuery('input[name=\"yoast_wpseo_focuskw\"]').val('');\n                                }\n                                if (jQuery(\"#wpseo_meta\").length == 0) {\n                                    jQuery(\"#ink_customfields\").show();\n                                }\n\n                                jQuery('input[name=\"ink_import_data\"]').val('1');\n\n                                jQuery('.loader_overlay').remove();\n                            }, \"json\").error(function () {\n                                jQuery('.loader_overlay').remove();\n                                alert('There was some problem in processing the file, please try again. If the problem persists, please check file size and make sure server time is large enough to process the file.');\n                            });\n                        });\n                    }\n                },\n                \"+\"\n            )\n        );\n    },\n\n    /**\n     * The save function defines the way in which the different attributes should be combined\n     * into the final markup, which is then serialized by Gutenberg into post_content.\n     *\n     * The \"save\" property must be specified and must be a valid function.\n     *\n     * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n     */\n\n    save: function save(props) {\n        return wp.element.createElement(\n            \"div\",\n            null,\n            wp.element.createElement(InnerBlocks.Content, null)\n        );\n    }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2svaW5rLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2luay5qcz83YjcyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQkxPQ0s6IG15LWJsb2NrXG4gKlxuICogUmVnaXN0ZXJpbmcgYSBiYXNpYyBibG9jayB3aXRoIEd1dGVuYmVyZy5cbiAqIFNpbXBsZSBibG9jaywgcmVuZGVycyBhbmQgc2F2ZXMgdGhlIHNhbWUgY29udGVudCB3aXRob3V0IGFueSBpbnRlcmFjdGl2aXR5LlxuICovXG5cbi8vICBJbXBvcnQgQ1NTLlxuaW1wb3J0IFwiLi9zdHlsZS5zY3NzXCI7XG5pbXBvcnQgXCIuL2VkaXRvci5zY3NzXCI7XG5cbnZhciBfXyA9IHdwLmkxOG4uX187IC8vIFRoZSBfXygpIGZvciBpbnRlcm5hdGlvbmFsaXphdGlvbi5cbnZhciByZWdpc3RlckJsb2NrVHlwZSA9IHdwLmJsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZTsgLy8gVGhlIHJlZ2lzdGVyQmxvY2tUeXBlKCkgdG8gcmVnaXN0ZXIgYmxvY2tzLlxudmFyIF93cCRlZGl0b3IgPSB3cC5lZGl0b3IsXG4gICAgTWVkaWFVcGxvYWQgPSBfd3AkZWRpdG9yLk1lZGlhVXBsb2FkLFxuICAgIFBsYWluVGV4dCA9IF93cCRlZGl0b3IuUGxhaW5UZXh0LFxuICAgIElubmVyQmxvY2tzID0gX3dwJGVkaXRvci5Jbm5lckJsb2NrcztcbnZhciBCdXR0b24gPSB3cC5jb21wb25lbnRzLkJ1dHRvbjtcblxudmFyIFJpY2hUZXh0ID0gd3AuZWRpdG9yLlJpY2hUZXh0O1xudmFyIGVsID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50O1xudmFyIGljb25FbCA9IGVsKCdzdmcnLCB7IHdpZHRoOiAyMCwgaGVpZ2h0OiAyMCB9LCBlbCgncGF0aCcsIHsgZDogXCJNMS4xOTM1MSw0LjEzNTI2SDIuNDMxMzdWMTNIMS4xOTM1MVpcIiB9KSwgZWwoJ3BhdGgnLCB7IGQ6IFwiTTUuNjUyNDYsNC4xMzUyNkg2Ljk3OTcxbDIuNzI5LDYuMjY2MjdoLjAyOTg0VjQuMTM1MjZoMS4wNzM3OVYxM0g5LjY3OUw2Ljc4NTk0LDYuMTk5MTdINi43NDExVjEzSDUuNjUyNDZaXCIgfSksIGVsKCdwYXRoJywgeyBkOiBcIk0xNC4wNDg2LDQuMDIwODNoMS4yMzc4NnY0LjUzNmwyLjYzOTUtNC41MzZoMS4yMzc3MkwxNy4wOTA5MSw3LjU2MTYxLDE5LjE5MzUxLDEzSDE3Ljg4MTI2TDE2LjE5Niw4LjUzMTZsLS45MDk1OCwxLjQzNjA1VjEzSDE0LjA0ODZaXCIgfSksIGVsKCdwYXRoJywgeyBkOiBcIk0xLjE5MzUxLDE1aDE4djFoLTE4WlwiIH0pKTtcblxuJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhX3R5cGUgPSAkKCcuYmxvY2stZWRpdG9yLWJsb2NrLWxpc3RfX2Jsb2NrLmlzLXNlbGVjdGVkJykuYXR0cignZGF0YS10eXBlJyk7XG4gICAgaWYgKGRhdGFfdHlwZSA9PSBcImluay1hZGRkYXRhL2luay1hZGRkYXRhLWlua1wiKSB7XG4gICAgICAgIGlmICgkKCcuZWRpdC1wb3N0LWhlYWRlcl9fc2V0dGluZ3MgYnV0dG9uLmNvbXBvbmVudHMtaWNvbi1idXR0b24nKS5oYXNDbGFzcygnaXMtdG9nZ2xlZCcpKSB7fSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5lZGl0LXBvc3QtaGVhZGVyX19zZXR0aW5ncyBidXR0b24uY29tcG9uZW50cy1pY29uLWJ1dHRvbicpLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSZWdpc3RlcjogYSBHdXRlbmJlcmcgQmxvY2suXG4gKlxuICogUmVnaXN0ZXJzIGEgbmV3IGJsb2NrIHByb3ZpZGVkIGEgdW5pcXVlIG5hbWUgYW5kIGFuIG9iamVjdCBkZWZpbmluZyBpdHNcbiAqIGJlaGF2aW9yLiBPbmNlIHJlZ2lzdGVyZWQsIHRoZSBibG9jayBpcyBtYWRlIGVkaXRvciBhcyBhbiBvcHRpb24gdG8gYW55XG4gKiBlZGl0b3IgaW50ZXJmYWNlIHdoZXJlIGJsb2NrcyBhcmUgaW1wbGVtZW50ZWQuXG4gKlxuICogQGxpbmsgaHR0cHM6Ly93b3JkcHJlc3Mub3JnL2d1dGVuYmVyZy9oYW5kYm9vay9ibG9jay1hcGkvXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgbmFtZSAgICAgQmxvY2sgbmFtZS5cbiAqIEBwYXJhbSAge09iamVjdH0gICBzZXR0aW5ncyBCbG9jayBzZXR0aW5ncy5cbiAqIEByZXR1cm4gez9XUEJsb2NrfSAgICAgICAgICBUaGUgYmxvY2ssIGlmIGl0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWQ7IG90aGVyd2lzZSBgdW5kZWZpbmVkYC5cbiAqL1xuXG5yZWdpc3RlckJsb2NrVHlwZShcImluay1hZGRkYXRhL2luay1hZGRkYXRhLWlua1wiLCB7XG4gICAgdGl0bGU6ICdVcGxvYWQgLmluayBGaWxlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0lOSyBCbG9jayBhbGxvd3MgeW91IHRvIGltcG9ydCAuSU5LIGZpbGUgYW5kIGNvbnZlcnQgY29udGVudCBpbnRvIGJsb2Nrcy4nLFxuICAgIGljb246IGljb25FbCxcbiAgICBjYXRlZ29yeTogJ2lua2Jsb2NrJyxcblxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICAgIHNvdXJjZTogJ2NoaWxkcmVuJyxcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZGl2J1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBlZGl0IGZ1bmN0aW9uIGRlc2NyaWJlcyB0aGUgc3RydWN0dXJlIG9mIHlvdXIgYmxvY2sgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGVkaXRvci5cbiAgICAgKiBUaGlzIHJlcHJlc2VudHMgd2hhdCB0aGUgZWRpdG9yIHdpbGwgcmVuZGVyIHdoZW4gdGhlIGJsb2NrIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBUaGUgXCJlZGl0XCIgcHJvcGVydHkgbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGxpbmsgaHR0cHM6Ly93b3JkcHJlc3Mub3JnL2d1dGVuYmVyZy9oYW5kYm9vay9ibG9jay1hcGkvYmxvY2stZWRpdC1zYXZlL1xuICAgICAqL1xuXG4gICAgLy8gVGhlIFwiZWRpdFwiIHByb3BlcnR5IG11c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi5cbiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KHByb3BzKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gcHJvcHMuYXR0cmlidXRlcy5jb250ZW50O1xuICAgICAgICBmdW5jdGlvbiBvbkNoYW5nZUNvbnRlbnQobmV3Q29udGVudHQpIHtcbiAgICAgICAgICAgIHByb3BzLnNldEF0dHJpYnV0ZXMoeyBjb250ZW50OiBuZXdDb250ZW50dCB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUgfSxcbiAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1tb3JlLWZpbGVcIixcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmsgPSB3cC5tZWRpYSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdVcGxvYWQgLmluayBGaWxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeTogeyB0eXBlOiAnaW5rJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5vcGVuKCkub24oJ3NlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCdib2R5JykucHJlcGVuZCgnPGRpdiBjbGFzcz1cImxvYWRlcl9vdmVybGF5XCI+PGRpdiBpZD1cImxvYWRlclwiPjxpbWcgc3JjPVwiJyArIGlua09iai5wbHVnaW5zVXJsICsgJy9pbmstZmlsZS1pbXBvcnQtcGx1Z2luL2ltYWdlcy9pbmsuZ2lmXCIgY2xhc3M9XCJsb2FkZXJfaW1nXCIvPiA8L2Rpdj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoJyNpbmtfaW1wb3J0X2J0bicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoJyNpbmtsb2FkZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZGVkX2luayA9IGluay5zdGF0ZSgpLmdldCgnc2VsZWN0aW9uJykuZmlyc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5rX3VybCA9IHVwbG9hZGVkX2luay50b0pTT04oKS51cmw7IC8qQ2hhbmdlcyovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gaW5rX3VybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZUV4dCA9IGZpbGVuYW1lLnN1YnN0cmluZyhmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpICsgMSwgZmlsZW5hbWUubGVuZ3RoKSB8fCBmaWxlbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlRXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUV4dCAhPT0gJ2luaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZSBlZGl0b3Igc3VwcG9ydCBvbmx5IC5pbmsgZmlsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcubG9hZGVyX292ZXJsYXknKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKkVuZCBDaGFuZ2VzKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsgJ2lua19maWxlX3VybCc6IGlua191cmwsIGFjdGlvbjogJ2lua19hY3Rpb24nIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkucG9zdChpbmtPYmouaW5rVXJsLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcjbG9hZGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLnJlc2V0QmxvY2tzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrID0gd3AuYmxvY2tzLmNyZWF0ZUJsb2NrKCdjb3JlL3BhcmFncmFwaCcsIHsgY29udGVudDogJycgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWdfaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChyZXNwb25zZS5ndXRlbl9jb250ZW50LCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ3V0ZW5faW1hZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJJTktfSU1HX1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIjwvcD5cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleF9ndXRlbl9pbWFnZXMgPSBcIklOS19JTUdfXCIgKyBpbWdfaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gd3AuYmxvY2tzLmNyZWF0ZUJsb2NrKCdjb3JlL2ltYWdlJywgeyBhbGlnbjogcmVzcG9uc2UuZ3V0ZW5faW1hZ2VzW1wiSU5LX0lNR19cIiArIGltZ19pbmRleF1bJ2FsaWduJ10sIGFsdDogcmVzcG9uc2UuZ3V0ZW5faW1hZ2VzW1wiSU5LX0lNR19cIiArIGltZ19pbmRleF1bJ2FsdCddLCBjYXB0aW9uOiByZXNwb25zZS5ndXRlbl9pbWFnZXNbXCJJTktfSU1HX1wiICsgaW1nX2luZGV4XVsnY2FwdGlvbiddLCBpZDogcmVzcG9uc2UuZ3V0ZW5faW1hZ2VzW1wiSU5LX0lNR19cIiArIGltZ19pbmRleF1bJ2lkJ10sIGxpbms6IFwiXCIsIGxpbmtEZXN0aW5hdGlvbjogXCJub25lXCIsIHVybDogcmVzcG9uc2UuZ3V0ZW5faW1hZ2VzW1wiSU5LX0lNR19cIiArIGltZ19pbmRleF1bJ3VybCddLCBoZWlnaHQ6IHJlc3BvbnNlLmd1dGVuX2ltYWdlc1tcIklOS19JTUdfXCIgKyBpbWdfaW5kZXhdWydoZWlnaHQnXSwgd2lkdGg6IHJlc3BvbnNlLmd1dGVuX2ltYWdlc1tcIklOS19JTUdfXCIgKyBpbWdfaW5kZXhdWyd3aWR0aCddIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvZWRpdG9yJykuaW5zZXJ0QmxvY2tzKGJsb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nX2luZGV4ID0gaW1nX2luZGV4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmluZGV4T2YoXCI8aFwiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSB2YWx1ZS5zcGxpdChcIjwvcD5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNbMF0gIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gd3AuYmxvY2tzLmNyZWF0ZUJsb2NrKCdjb3JlL3BhcmFncmFwaCcsIHsgY29udGVudDogcmVzWzBdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3AuZGF0YS5kaXNwYXRjaCgnY29yZS9lZGl0b3InKS5pbnNlcnRCbG9ja3MoYmxvY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNbMV0uaW5kZXhPZihcIjxoXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWFkaW5ncyA9IHJlc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoQ291bnQgPSBoZWFkaW5ncy5zcGxpdCgnPC9oJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoQ291bnQubGVuZ3RoIC0gMTsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRleHQgPSBoQ291bnRbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0ZXh0Y2xlYW4gPSBodGV4dC5yZXBsYWNlKC9eXFxkKz4vLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRleHRjbGVhbiA9IGh0ZXh0Y2xlYW4udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZnRlckggPSBodGV4dGNsZWFuLm1hdGNoKC88aFxcZCs+KC4rKS9nbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbG9nIDEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFmdGVySCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFmdGVySC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJIID0gYWZ0ZXJIWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVySCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2xvZyAyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhZnRlckgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZWZvcmVIID0gaHRleHRjbGVhbi5yZXBsYWNlKC88aFxcZCs+KC4rKS9nbSwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2xvZyAzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhiZWZvcmVIKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdsb2cgNCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coaHRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh3aXRoTm8gPSBhZnRlckguc3BsaXQoJzwnKVsxXS5zcGxpdCgnPicpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2xvZyA1Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhod2l0aE5vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25seU5vID0gaHdpdGhOby5yZXBsYWNlKFwiaFwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdsb2cgNicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cob25seU5vKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVySCA9IGFmdGVySC5yZXBsYWNlKC88P2g/XFxkKz4vLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbG9nIDcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFmdGVySCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZUggJiYgYmVmb3JlSC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSB3cC5ibG9ja3MuY3JlYXRlQmxvY2soJ2NvcmUvcGFyYWdyYXBoJywgeyBjb250ZW50OiBiZWZvcmVIIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmluc2VydEJsb2NrcyhibG9jayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlckggJiYgYWZ0ZXJILnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jaygnY29yZS9oZWFkaW5nJywgeyBsZXZlbDogb25seU5vLCBjb250ZW50OiBhZnRlckggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvZWRpdG9yJykuaW5zZXJ0QmxvY2tzKGJsb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGluZ190ZXh0ID0gcmVzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhfbGV2ZWwgPSByZXNbMV0uc3BsaXQoJzwnKVsxXS5zcGxpdCgnPicpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZ190ZXh0ID0gaGVhZGluZ190ZXh0LnNwbGl0KCc8JytoX2xldmVsKyc+JylbMV0uc3BsaXQoJzwvJytoX2xldmVsKyc+JylbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoX2xldmVsID0gaF9sZXZlbC5yZXBsYWNlKFwiaFwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gd3AuYmxvY2tzLmNyZWF0ZUJsb2NrKCAnY29yZS9oZWFkaW5nJywgeyBjb250ZW50OiBoZWFkaW5nX3RleHQgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ibG9jayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jayggJ2NvcmUvaGVhZGluZycsIHsgY29udGVudDogaGVhZGluZ190ZXh0LCBsZXZlbDpoX2xldmVsIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmRhdGEuZGlzcGF0Y2goICdjb3JlL2VkaXRvcicgKS5pbnNlcnRCbG9ja3MoIGJsb2NrICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5pbmRleE9mKFwiaW5rX2NvbnRhaW5lclwiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIjwvcD48L3A+XCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCI8L3A+XCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCI8cD48cD5cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIjxwPlwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCc8ZGl2IGNsYXNzPVwiaW5rX2NvbnRhaW5lclwiPicsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPC9kaXY+XCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jayhcImNvcmUtZW1iZWQveW91dHViZVwiLCB7IHVybDogdmFsdWUsIGFsbG93UmVzcG9uc2l2ZTogdHJ1ZSwgY2xhc3NOYW1lOiBcIndwLWVtYmVkLWFzcGVjdC0xNi05IHdwLWhhcy1hc3BlY3QtcmF0aW9cIiwgcHJvdmlkZXJOYW1lU2x1ZzogXCJ5b3V0dWJlXCIsIHR5cGU6IFwidmlkZW9cIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ibG9jayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jayggJ2NvcmUvaHRtbCcsIHsgY29udGVudDogdmFsdWUgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmluc2VydEJsb2NrcyhibG9jayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPC9wPlwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSB3cC5ibG9ja3MuY3JlYXRlQmxvY2soJ2NvcmUvcGFyYWdyYXBoJywgeyBjb250ZW50OiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3AuZGF0YS5kaXNwYXRjaCgnY29yZS9lZGl0b3InKS5pbnNlcnRCbG9ja3MoYmxvY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrX2luayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jaygnaW5rLWFkZGRhdGEvaW5rLWFkZGRhdGEtaW5rJywge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmluc2VydEJsb2NrcyhibG9ja19pbmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmVkaXRQb3N0KHsgZmVhdHVyZWRfbWVkaWE6IHJlc3BvbnNlLnRodW1ibmFpbF9pZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcG9zdC10aXRsZS0wJykudmFsKHJlc3BvbnNlLnRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJpbmtfcG9zdF90aXRsZVwiXScpLnZhbChyZXNwb25zZS50aXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdoMy5fc25pcHBldF9oZWFkJykuaHRtbChyZXNwb25zZS50aXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmVkaXRQb3N0KHsgdGl0bGU6IHJlc3BvbnNlLnRpdGxlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50aHVtYm5haWxfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJfdGh1bWJuYWlsX2lkXCJdJykudmFsKHJlc3BvbnNlLnRodW1ibmFpbF9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiZmVhdHVyZWRfbWVkaWFcIl0nKS52YWwocmVzcG9uc2UudGh1bWJuYWlsX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWdzcmMgPSAnPGltZyB3aWR0aD1cIjI2NlwiIGhlaWdodD1cIjEzNVwiIHNyYz1cIicgKyByZXNwb25zZS50aHVtYm5haWxfdXJsICsgJ1wiIGNsYXNzPVwiYXR0YWNobWVudC0yNjZ4MjY2IHNpemUtMjY2eDI2NlwiPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2V0LXBvc3QtdGh1bWJuYWlsJykuaHRtbChpbWdzcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pbmtfbWV0YXRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiaW5rX21ldGF0aXRsZVwiXScpLnZhbChyZXNwb25zZS5pbmtfbWV0YXRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb190aXRsZVwiXScpLnZhbChyZXNwb25zZS5pbmtfbWV0YXRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJpbmtfbWV0YXRpdGxlXCJdJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb190aXRsZVwiXScpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlua19tZXRhZGVzYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2lua19tZXRhZGVzYycpLnZhbChyZXNwb25zZS5pbmtfbWV0YWRlc2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInlvYXN0X3dwc2VvX21ldGFkZXNjXCJdJykudmFsKHJlc3BvbnNlLmlua19tZXRhZGVzYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdzcGFuLl9zbmlwcGV0X2Rlc2MnKS5odG1sKHJlc3BvbnNlLmlua19tZXRhZGVzYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaW5rX21ldGFkZXNjJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb19tZXRhZGVzY1wiXScpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdzcGFuLl9zbmlwcGV0X2Rlc2MnKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaW5rX2tleXdvcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaW5rX2tleXdvcmRzJykudmFsKHJlc3BvbnNlLmlua19rZXl3b3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjZm9jdXMta2V5d29yZC1pbnB1dC1tZXRhYm94JykudmFsKHJlc3BvbnNlLmlua19rZXl3b3Jkcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb19mb2N1c2t3XCJdJykudmFsKHJlc3BvbnNlLmlua19rZXl3b3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaW5rX2tleXdvcmRzJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb19mb2N1c2t3XCJdJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChcIiN3cHNlb19tZXRhXCIpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2lua19jdXN0b21maWVsZHNcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImlua19pbXBvcnRfZGF0YVwiXScpLnZhbCgnMScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnLmxvYWRlcl9vdmVybGF5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJqc29uXCIpLmVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcubG9hZGVyX292ZXJsYXknKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIHdhcyBzb21lIHByb2JsZW0gaW4gcHJvY2Vzc2luZyB0aGUgZmlsZSwgcGxlYXNlIHRyeSBhZ2Fpbi4gSWYgdGhlIHByb2JsZW0gcGVyc2lzdHMsIHBsZWFzZSBjaGVjayBmaWxlIHNpemUgYW5kIG1ha2Ugc3VyZSBzZXJ2ZXIgdGltZSBpcyBsYXJnZSBlbm91Z2ggdG8gcHJvY2VzcyB0aGUgZmlsZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIitcIlxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2F2ZSBmdW5jdGlvbiBkZWZpbmVzIHRoZSB3YXkgaW4gd2hpY2ggdGhlIGRpZmZlcmVudCBhdHRyaWJ1dGVzIHNob3VsZCBiZSBjb21iaW5lZFxuICAgICAqIGludG8gdGhlIGZpbmFsIG1hcmt1cCwgd2hpY2ggaXMgdGhlbiBzZXJpYWxpemVkIGJ5IEd1dGVuYmVyZyBpbnRvIHBvc3RfY29udGVudC5cbiAgICAgKlxuICAgICAqIFRoZSBcInNhdmVcIiBwcm9wZXJ0eSBtdXN0IGJlIHNwZWNpZmllZCBhbmQgbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGxpbmsgaHR0cHM6Ly93b3JkcHJlc3Mub3JnL2d1dGVuYmVyZy9oYW5kYm9vay9ibG9jay1hcGkvYmxvY2stZWRpdC1zYXZlL1xuICAgICAqL1xuXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShwcm9wcykge1xuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoSW5uZXJCbG9ja3MuQ29udGVudCwgbnVsbClcbiAgICAgICAgKTtcbiAgICB9XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/block/inknew.js\n");
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.scss */ \"./src/block/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor.scss */ \"./src/block/editor.scss\");\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_editor_scss__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * BLOCK: my-block\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n//  Import CSS.\n\n\n\nvar __ = wp.i18n.__; // The __() for internationalization.\nvar registerBlockType = wp.blocks.registerBlockType; // The registerBlockType() to register blocks.\nvar _wp$editor = wp.editor,\n    MediaUpload = _wp$editor.MediaUpload,\n    PlainText = _wp$editor.PlainText,\n    InnerBlocks = _wp$editor.InnerBlocks;\nvar Button = wp.components.Button;\n\nvar RichText = wp.editor.RichText;\nvar el = wp.element.createElement;\nvar iconEl = el('svg', { width: 20, height: 20 }, el('path', { d: \"M1.19351,4.13526H2.43137V13H1.19351Z\" }), el('path', { d: \"M5.65246,4.13526H6.97971l2.729,6.26627h.02984V4.13526h1.07379V13H9.679L6.78594,6.19917H6.7411V13H5.65246Z\" }), el('path', { d: \"M14.0486,4.02083h1.23786v4.536l2.6395-4.536h1.23772L17.09091,7.56161,19.19351,13H17.88126L16.196,8.5316l-.90958,1.43605V13H14.0486Z\" }), el('path', { d: \"M1.19351,15h18v1h-18Z\" }));\n\njQuery(document).click(function () {\n    var data_type = jQuery('.block-editor-block-list__block.is-selected').attr('data-type');\n    if (data_type == \"ink-adddata/ink-adddata-ink\") {\n        if (jQuery('.edit-post-header__settings button.components-icon-button').hasClass('is-toggled')) {} else {\n            jQuery('.edit-post-header__settings button.components-icon-button').click();\n        }\n    }\n});\n\n/**\n * Register: a Gutenberg Block.\n *\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made editor as an option to any\n * editor interface where blocks are implemented.\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\n\nregisterBlockType(\"ink-adddata/ink-adddata-ink\", {\n    title: 'Upload .ink File',\n    description: 'INK Block allows you to import .INK file and convert content into blocks.',\n    icon: iconEl,\n    category: 'inkblock',\n\n    attributes: {\n        content: {\n            type: 'array',\n            source: 'children',\n            selector: 'div'\n        }\n    },\n\n    /**\n     * The edit function describes the structure of your block in the context of the editor.\n     * This represents what the editor will render when the block is used.\n     *\n     * The \"edit\" property must be a valid function.\n     *\n     * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n     */\n\n    // The \"edit\" property must be a valid function.\n    edit: function edit(props) {\n        var content = props.attributes.content;\n        function onChangeContent(newContentt) {\n            props.setAttributes({ content: newContentt });\n        };\n\n        return wp.element.createElement(\n            \"div\",\n            { className: props.className },\n            wp.element.createElement(\n                \"button\",\n                {\n                    className: \"add-more-file\",\n                    onClick: function onClick() {\n                        var ink = wp.media({\n                            title: 'Upload .ink File',\n                            multiple: false,\n                            library: { type: 'ink' }\n                        }).open().on('select', function (e) {\n                            jQuery('body').prepend('<div class=\"loader_overlay\"><div id=\"loader\"><img src=\"' + inkObj.pluginsUrl + '/ink-official/images/ink.gif\" class=\"loader_img\"/> </div></div>');\n                            jQuery('#ink_import_btn').hide();\n                            jQuery('#inkloader').show();\n                            var uploaded_ink = ink.state().get('selection').first();\n                            var ink_url = uploaded_ink.toJSON().url; /*Changes*/\n                            var filename = ink_url;\n                            var fileExt = filename.substring(filename.lastIndexOf('.') + 1, filename.length) || filename;\n                            console.log(fileExt);\n                            if (fileExt !== 'ink') {\n                                alert('The editor support only .ink files');\n                                jQuery('.loader_overlay').remove();\n                                return false;\n                            }\n                            /*End Changes*/\n                            var data = { 'ink_file_url': ink_url, action: 'ink_action' };\n\n                            jQuery.post(inkObj.inkUrl, data, function (response) {\n                                jQuery('#loader').show();\n                                wp.data.dispatch('core/editor').resetBlocks([]);\n                                var block = wp.blocks.createBlock('core/paragraph', { content: '' });\n                                var img_index = 0;\n                                jQuery.each(response.guten_content, function (index, value) {\n   // console.log(value);\n                                if (value != \"\") {\n      value = value.replace(\"</p></p>\", \"\");\n value = value.replace(\"<p></p>\", \"\");\n  value = value.replace(\"<p><p>\", \"\");\n                                 //guten_images\n                                        if (value.indexOf(\"INK_IMG_\") >= 0) {\n                                            value = value.replace(\"</p>\", \"\");\n                                            var index_guten_images = \"INK_IMG_\" + img_index;\n                                            block = wp.blocks.createBlock('core/image', { align: response.guten_images[\"INK_IMG_\" + img_index]['align'], alt: response.guten_images[\"INK_IMG_\" + img_index]['alt'], caption: response.guten_images[\"INK_IMG_\" + img_index]['caption'], id: response.guten_images[\"INK_IMG_\" + img_index]['id'], link: \"\", linkDestination: \"none\", url: response.guten_images[\"INK_IMG_\" + img_index]['url'], height: response.guten_images[\"INK_IMG_\" + img_index]['height'], width: response.guten_images[\"INK_IMG_\" + img_index]['width'] });\n\n                                            wp.data.dispatch('core/editor').insertBlocks(block);\n                                            img_index = img_index + 1;\n                                        } else if (value.indexOf(\"<h\") >= 0) {\n                                                var headings = value;\n                                                var hCount = headings.split('</h');\n                                                var i;\n                                                for (i = 0; i < hCount.length - 1; i++) {\n\n                                                    var htext = hCount[i];\n                                                    var htextclean = htext.replace(/^\\d+>/, '');\n                                                    htextclean = htextclean.trim();\n                                                    var afterH = htextclean.match(/<h\\d+>(.+)/gm);\n                                                    //console.log('log 1');\n                                                    //console.log(afterH);\n                                                    if (afterH.length) {\n                                                        afterH = afterH[0];\n                                                    } else {\n                                                        afterH = \"\";\n                                                    }\n                                                    //console.log('log 2');\n                                                    //console.log(afterH);\n                                                    var beforeH = htextclean.replace(/<h\\d+>(.+)/gm, '');\n                                                    //console.log('log 3');\n                                                    //console.log(beforeH);\n                                                    //console.log('log 4');\n                                                    //console.log(htext);\n\n                                                    var hwithNo = afterH.split('<')[1].split('>')[0];\n                                                    //console.log('log 5');\n                                                    //console.log(hwithNo);\n                                                    var onlyNo = hwithNo.replace(\"h\", \"\");\n                                                    //console.log('log 6');\n                                                   // console.log(onlyNo);\n\n                                                    afterH = afterH.replace(/<?h?\\d+>/, '');\n                                                    //console.log('log 7');\n                                                    //console.log(afterH);\n                                                    if (beforeH && beforeH.trim()) {\n                                                        block = wp.blocks.createBlock('core/paragraph', { content: beforeH });\n                                                        wp.data.dispatch('core/editor').insertBlocks(block);\n                                                    }\n                                                    if (afterH && afterH.trim()) {\n block = wp.blocks.createBlock('core/heading', { level: Number(onlyNo),  content: afterH });\n                                                        wp.data.dispatch('core/editor').insertBlocks(block);\n                                                    }\n                                                }\n\n                                                /*\n                                                                                    var heading_text = res[1];\n                                                                                    var h_level = res[1].split('<')[1].split('>')[0];\n                                                                                    heading_text = heading_text.split('<'+h_level+'>')[1].split('</'+h_level+'>')[0];\n                                                                                    h_level = h_level.replace(\"h\", \"\");\n                                                                                    block = wp.blocks.createBlock( 'core/heading', { content: heading_text } );\n                                                                                    //block = wp.blocks.createBlock( 'core/heading', { content: heading_text, level:h_level } );\n                                                                                    wp.data.dispatch( 'core/editor' ).insertBlocks( block );\n                                                */\n                                            } else if (value.indexOf(\"ink_container\") >= 0) {\n                                            value = value.replace(\"</p></p>\", \"\");\n                                            value = value.replace(\"</p>\", \"\");\n                                            value = value.replace(\"<p><p>\", \"\");\n                                            value = value.replace(\"<p>\", \"\");\n                                            value = value.replace('<div class=\"ink_container\">', '');\n                                            value = value.replace(\"</div>\", \"\");\n                                            block = wp.blocks.createBlock(\"core/embed\", { url: value, allowResponsive: true, className: \"wp-embed-aspect-16-9 wp-has-aspect-ratio\", providerNameSlug: \"youtube\", type: \"video\" });\n                                            //block = wp.blocks.createBlock( 'core/html', { content: value } );\n                                            wp.data.dispatch('core/editor').insertBlocks(block);\n                                        } else if (value.indexOf(\"<ul\") >= 0) {\n var res = value.split(\"<ul>\");\n var j; for (j = 0; j < res.length; j++) {if (res[j].includes('</ul>')) {\n res[j] = res[j].replace(\"</ul>\", \"\");\n res[j] = res[j].replace(\"<ul>\", \"\");\n res[j] = res[j].replace(\"\/n\", \"\"); \n block = wp.blocks.createBlock('core/list', { values:  res[j] });\n wp.data.dispatch('core/block-editor').insertBlocks(block);\n } else {\n if (res[j] != \"\") {res[j] = res[j].replace(\"</p>\", \"\");\n block = wp.blocks.createBlock('core/paragraph', { content: res[j] });\n wp.data.dispatch('core/block-editor').insertBlocks(block);}} } } else if (value.indexOf(\"<ol\") >= 0) {\n var res = value.split(\"<ol>\");\n var j; for (j = 0; j < res.length; j++) {if (res[j].includes('</ol>')) {\n res[j] = res[j].replace(\"</ol>\", \"\");\n res[j] = res[j].replace(\"<ol>\", \"\");\n  res[j] = res[j].replace(\"\/n\", \"\"); \n block = wp.blocks.createBlock('core/list', { ordered: true, values:  res[j] });\n wp.data.dispatch('core/block-editor').insertBlocks(block);\n } else {\n if (res[j] != \"\") {res[j] = res[j].replace(\"</p>\", \"\");\n block = wp.blocks.createBlock('core/paragraph', { content: res[j] });\n wp.data.dispatch('core/block-editor').insertBlocks(block);} } } } else {\n                                            value = value.replace(\"</p>\", \"\");\n     value = value.replace(\"<p>\", \"\");\n                                       block = wp.blocks.createBlock('core/paragraph', { content: value });\n                                            wp.data.dispatch('core/editor').insertBlocks(block);\n                                        }\n                                    }\n                                });\n\n                                var block_ink = wp.blocks.createBlock('ink-adddata/ink-adddata-ink', {});\n                                wp.data.dispatch('core/editor').insertBlocks(block_ink);\n                                wp.data.dispatch('core/editor').editPost({ featured_media: response.thumbnail_id });\n                                if (response.title) {\n                                    jQuery('#post-title-0').val(response.title);\n                                    jQuery('input[name=\"ink_post_title\"]').val(response.title);\n                                    jQuery('h3._snippet_head').html(response.title);\n                                    wp.data.dispatch('core/editor').editPost({ title: response.title });\n                                }\n                                if (response.thumbnail_id) {\n                                    jQuery('input[name=\"_thumbnail_id\"]').val(response.thumbnail_id);\n                                    jQuery('input[name=\"featured_media\"]').val(response.thumbnail_id);\n                                    var imgsrc = '<img width=\"266\" height=\"135\" src=\"' + response.thumbnail_url + '\" class=\"attachment-266x266 size-266x266\">';\n                                    jQuery('#set-post-thumbnail').html(imgsrc);\n                                }\n                                if (response.ink_metatitle) {\n                                    jQuery('input[name=\"ink_metatitle\"]').val(response.ink_metatitle);\n                                    jQuery('input[name=\"yoast_wpseo_title\"]').val(response.ink_metatitle);\n                                } else {\n                                    jQuery('input[name=\"ink_metatitle\"]').val('');\n                                    jQuery('input[name=\"yoast_wpseo_title\"]').val('');\n                                }\n                                if (response.ink_metadesc) {\n                                    jQuery('#ink_metadesc').val(response.ink_metadesc);\n                                    jQuery('input[name=\"yoast_wpseo_metadesc\"]').val(response.ink_metadesc);\n                                    jQuery('span._snippet_desc').html(response.ink_metadesc);\n                                } else {\n                                    jQuery('#ink_metadesc').val('');\n                                    jQuery('input[name=\"yoast_wpseo_metadesc\"]').val('');\n                                    jQuery('span._snippet_desc').html('');\n                                }\n                                if (response.ink_keywords) {\n                                    jQuery('#ink_keywords').val(response.ink_keywords);\n                                    jQuery('#focus-keyword-input-metabox').val(response.ink_keywords);\n\n                                    jQuery('input[name=\"yoast_wpseo_focuskw\"]').val(response.ink_keywords);\n                                } else {\n                                    jQuery('#ink_keywords').val('');\n                                    jQuery('input[name=\"yoast_wpseo_focuskw\"]').val('');\n                                }\n                                if (jQuery(\"#wpseo_meta\").length == 0) {\n                                    jQuery(\"#ink_customfields\").show();\n                                }\n\n                                jQuery('input[name=\"ink_import_data\"]').val('1');\n\n                                jQuery('.loader_overlay').remove();\n                            }, \"json\").error(function () {\n                                jQuery('.loader_overlay').remove();\n                                alert('There was some problem in processing the file, please try again. If the problem persists, please check file size and make sure server time is large enough to process the file.');\n                            });\n                        });\n                    }\n                },\n                \"+\"\n            )\n        );\n    },\n\n    /**\n     * The save function defines the way in which the different attributes should be combined\n     * into the final markup, which is then serialized by Gutenberg into post_content.\n     *\n     * The \"save\" property must be specified and must be a valid function.\n     *\n     * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n     */\n\n    save: function save(props) {\n        return wp.element.createElement(\n            \"div\",\n            null,\n            wp.element.createElement(InnerBlocks.Content, null)\n        );\n    }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2svaW5rLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2NrL2luay5qcz83YjcyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQkxPQ0s6IG15LWJsb2NrXG4gKlxuICogUmVnaXN0ZXJpbmcgYSBiYXNpYyBibG9jayB3aXRoIEd1dGVuYmVyZy5cbiAqIFNpbXBsZSBibG9jaywgcmVuZGVycyBhbmQgc2F2ZXMgdGhlIHNhbWUgY29udGVudCB3aXRob3V0IGFueSBpbnRlcmFjdGl2aXR5LlxuICovXG5cbi8vICBJbXBvcnQgQ1NTLlxuaW1wb3J0IFwiLi9zdHlsZS5zY3NzXCI7XG5pbXBvcnQgXCIuL2VkaXRvci5zY3NzXCI7XG5cbnZhciBfXyA9IHdwLmkxOG4uX187IC8vIFRoZSBfXygpIGZvciBpbnRlcm5hdGlvbmFsaXphdGlvbi5cbnZhciByZWdpc3RlckJsb2NrVHlwZSA9IHdwLmJsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZTsgLy8gVGhlIHJlZ2lzdGVyQmxvY2tUeXBlKCkgdG8gcmVnaXN0ZXIgYmxvY2tzLlxudmFyIF93cCRlZGl0b3IgPSB3cC5lZGl0b3IsXG4gICAgTWVkaWFVcGxvYWQgPSBfd3AkZWRpdG9yLk1lZGlhVXBsb2FkLFxuICAgIFBsYWluVGV4dCA9IF93cCRlZGl0b3IuUGxhaW5UZXh0LFxuICAgIElubmVyQmxvY2tzID0gX3dwJGVkaXRvci5Jbm5lckJsb2NrcztcbnZhciBCdXR0b24gPSB3cC5jb21wb25lbnRzLkJ1dHRvbjtcblxudmFyIFJpY2hUZXh0ID0gd3AuZWRpdG9yLlJpY2hUZXh0O1xudmFyIGVsID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50O1xudmFyIGljb25FbCA9IGVsKCdzdmcnLCB7IHdpZHRoOiAyMCwgaGVpZ2h0OiAyMCB9LCBlbCgncGF0aCcsIHsgZDogXCJNMS4xOTM1MSw0LjEzNTI2SDIuNDMxMzdWMTNIMS4xOTM1MVpcIiB9KSwgZWwoJ3BhdGgnLCB7IGQ6IFwiTTUuNjUyNDYsNC4xMzUyNkg2Ljk3OTcxbDIuNzI5LDYuMjY2MjdoLjAyOTg0VjQuMTM1MjZoMS4wNzM3OVYxM0g5LjY3OUw2Ljc4NTk0LDYuMTk5MTdINi43NDExVjEzSDUuNjUyNDZaXCIgfSksIGVsKCdwYXRoJywgeyBkOiBcIk0xNC4wNDg2LDQuMDIwODNoMS4yMzc4NnY0LjUzNmwyLjYzOTUtNC41MzZoMS4yMzc3MkwxNy4wOTA5MSw3LjU2MTYxLDE5LjE5MzUxLDEzSDE3Ljg4MTI2TDE2LjE5Niw4LjUzMTZsLS45MDk1OCwxLjQzNjA1VjEzSDE0LjA0ODZaXCIgfSksIGVsKCdwYXRoJywgeyBkOiBcIk0xLjE5MzUxLDE1aDE4djFoLTE4WlwiIH0pKTtcblxuJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhX3R5cGUgPSAkKCcuYmxvY2stZWRpdG9yLWJsb2NrLWxpc3RfX2Jsb2NrLmlzLXNlbGVjdGVkJykuYXR0cignZGF0YS10eXBlJyk7XG4gICAgaWYgKGRhdGFfdHlwZSA9PSBcImluay1hZGRkYXRhL2luay1hZGRkYXRhLWlua1wiKSB7XG4gICAgICAgIGlmICgkKCcuZWRpdC1wb3N0LWhlYWRlcl9fc2V0dGluZ3MgYnV0dG9uLmNvbXBvbmVudHMtaWNvbi1idXR0b24nKS5oYXNDbGFzcygnaXMtdG9nZ2xlZCcpKSB7fSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5lZGl0LXBvc3QtaGVhZGVyX19zZXR0aW5ncyBidXR0b24uY29tcG9uZW50cy1pY29uLWJ1dHRvbicpLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSZWdpc3RlcjogYSBHdXRlbmJlcmcgQmxvY2suXG4gKlxuICogUmVnaXN0ZXJzIGEgbmV3IGJsb2NrIHByb3ZpZGVkIGEgdW5pcXVlIG5hbWUgYW5kIGFuIG9iamVjdCBkZWZpbmluZyBpdHNcbiAqIGJlaGF2aW9yLiBPbmNlIHJlZ2lzdGVyZWQsIHRoZSBibG9jayBpcyBtYWRlIGVkaXRvciBhcyBhbiBvcHRpb24gdG8gYW55XG4gKiBlZGl0b3IgaW50ZXJmYWNlIHdoZXJlIGJsb2NrcyBhcmUgaW1wbGVtZW50ZWQuXG4gKlxuICogQGxpbmsgaHR0cHM6Ly93b3JkcHJlc3Mub3JnL2d1dGVuYmVyZy9oYW5kYm9vay9ibG9jay1hcGkvXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgbmFtZSAgICAgQmxvY2sgbmFtZS5cbiAqIEBwYXJhbSAge09iamVjdH0gICBzZXR0aW5ncyBCbG9jayBzZXR0aW5ncy5cbiAqIEByZXR1cm4gez9XUEJsb2NrfSAgICAgICAgICBUaGUgYmxvY2ssIGlmIGl0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWQ7IG90aGVyd2lzZSBgdW5kZWZpbmVkYC5cbiAqL1xuXG5yZWdpc3RlckJsb2NrVHlwZShcImluay1hZGRkYXRhL2luay1hZGRkYXRhLWlua1wiLCB7XG4gICAgdGl0bGU6ICdVcGxvYWQgLmluayBGaWxlJyxcbiAgICBkZXNjcmlwdGlvbjogJ0lOSyBCbG9jayBhbGxvd3MgeW91IHRvIGltcG9ydCAuSU5LIGZpbGUgYW5kIGNvbnZlcnQgY29udGVudCBpbnRvIGJsb2Nrcy4nLFxuICAgIGljb246IGljb25FbCxcbiAgICBjYXRlZ29yeTogJ2lua2Jsb2NrJyxcblxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICAgIHNvdXJjZTogJ2NoaWxkcmVuJyxcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnZGl2J1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBlZGl0IGZ1bmN0aW9uIGRlc2NyaWJlcyB0aGUgc3RydWN0dXJlIG9mIHlvdXIgYmxvY2sgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGVkaXRvci5cbiAgICAgKiBUaGlzIHJlcHJlc2VudHMgd2hhdCB0aGUgZWRpdG9yIHdpbGwgcmVuZGVyIHdoZW4gdGhlIGJsb2NrIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBUaGUgXCJlZGl0XCIgcHJvcGVydHkgbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGxpbmsgaHR0cHM6Ly93b3JkcHJlc3Mub3JnL2d1dGVuYmVyZy9oYW5kYm9vay9ibG9jay1hcGkvYmxvY2stZWRpdC1zYXZlL1xuICAgICAqL1xuXG4gICAgLy8gVGhlIFwiZWRpdFwiIHByb3BlcnR5IG11c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi5cbiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KHByb3BzKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gcHJvcHMuYXR0cmlidXRlcy5jb250ZW50O1xuICAgICAgICBmdW5jdGlvbiBvbkNoYW5nZUNvbnRlbnQobmV3Q29udGVudHQpIHtcbiAgICAgICAgICAgIHByb3BzLnNldEF0dHJpYnV0ZXMoeyBjb250ZW50OiBuZXdDb250ZW50dCB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUgfSxcbiAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImFkZC1tb3JlLWZpbGVcIixcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmsgPSB3cC5tZWRpYSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdVcGxvYWQgLmluayBGaWxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlicmFyeTogeyB0eXBlOiAnaW5rJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5vcGVuKCkub24oJ3NlbGVjdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCdib2R5JykucHJlcGVuZCgnPGRpdiBjbGFzcz1cImxvYWRlcl9vdmVybGF5XCI+PGRpdiBpZD1cImxvYWRlclwiPjxpbWcgc3JjPVwiJyArIGlua09iai5wbHVnaW5zVXJsICsgJy9pbmstZmlsZS1pbXBvcnQtcGx1Z2luL2ltYWdlcy9pbmsuZ2lmXCIgY2xhc3M9XCJsb2FkZXJfaW1nXCIvPiA8L2Rpdj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoJyNpbmtfaW1wb3J0X2J0bicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoJyNpbmtsb2FkZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZGVkX2luayA9IGluay5zdGF0ZSgpLmdldCgnc2VsZWN0aW9uJykuZmlyc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5rX3VybCA9IHVwbG9hZGVkX2luay50b0pTT04oKS51cmw7IC8qQ2hhbmdlcyovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gaW5rX3VybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZUV4dCA9IGZpbGVuYW1lLnN1YnN0cmluZyhmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpICsgMSwgZmlsZW5hbWUubGVuZ3RoKSB8fCBmaWxlbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlRXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUV4dCAhPT0gJ2luaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZSBlZGl0b3Igc3VwcG9ydCBvbmx5IC5pbmsgZmlsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcubG9hZGVyX292ZXJsYXknKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKkVuZCBDaGFuZ2VzKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsgJ2lua19maWxlX3VybCc6IGlua191cmwsIGFjdGlvbjogJ2lua19hY3Rpb24nIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkucG9zdChpbmtPYmouaW5rVXJsLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcjbG9hZGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLnJlc2V0QmxvY2tzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrID0gd3AuYmxvY2tzLmNyZWF0ZUJsb2NrKCdjb3JlL3BhcmFncmFwaCcsIHsgY29udGVudDogJycgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWdfaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZWFjaChyZXNwb25zZS5ndXRlbl9jb250ZW50LCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ3V0ZW5faW1hZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJJTktfSU1HX1wiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIjwvcD5cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleF9ndXRlbl9pbWFnZXMgPSBcIklOS19JTUdfXCIgKyBpbWdfaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gd3AuYmxvY2tzLmNyZWF0ZUJsb2NrKCdjb3JlL2ltYWdlJywgeyBhbGlnbjogcmVzcG9uc2UuZ3V0ZW5faW1hZ2VzW1wiSU5LX0lNR19cIiArIGltZ19pbmRleF1bJ2FsaWduJ10sIGFsdDogcmVzcG9uc2UuZ3V0ZW5faW1hZ2VzW1wiSU5LX0lNR19cIiArIGltZ19pbmRleF1bJ2FsdCddLCBjYXB0aW9uOiByZXNwb25zZS5ndXRlbl9pbWFnZXNbXCJJTktfSU1HX1wiICsgaW1nX2luZGV4XVsnY2FwdGlvbiddLCBpZDogcmVzcG9uc2UuZ3V0ZW5faW1hZ2VzW1wiSU5LX0lNR19cIiArIGltZ19pbmRleF1bJ2lkJ10sIGxpbms6IFwiXCIsIGxpbmtEZXN0aW5hdGlvbjogXCJub25lXCIsIHVybDogcmVzcG9uc2UuZ3V0ZW5faW1hZ2VzW1wiSU5LX0lNR19cIiArIGltZ19pbmRleF1bJ3VybCddLCBoZWlnaHQ6IHJlc3BvbnNlLmd1dGVuX2ltYWdlc1tcIklOS19JTUdfXCIgKyBpbWdfaW5kZXhdWydoZWlnaHQnXSwgd2lkdGg6IHJlc3BvbnNlLmd1dGVuX2ltYWdlc1tcIklOS19JTUdfXCIgKyBpbWdfaW5kZXhdWyd3aWR0aCddIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvZWRpdG9yJykuaW5zZXJ0QmxvY2tzKGJsb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nX2luZGV4ID0gaW1nX2luZGV4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmluZGV4T2YoXCI8aFwiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSB2YWx1ZS5zcGxpdChcIjwvcD5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNbMF0gIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gd3AuYmxvY2tzLmNyZWF0ZUJsb2NrKCdjb3JlL3BhcmFncmFwaCcsIHsgY29udGVudDogcmVzWzBdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3AuZGF0YS5kaXNwYXRjaCgnY29yZS9lZGl0b3InKS5pbnNlcnRCbG9ja3MoYmxvY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNbMV0uaW5kZXhPZihcIjxoXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWFkaW5ncyA9IHJlc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoQ291bnQgPSBoZWFkaW5ncy5zcGxpdCgnPC9oJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBoQ291bnQubGVuZ3RoIC0gMTsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRleHQgPSBoQ291bnRbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0ZXh0Y2xlYW4gPSBodGV4dC5yZXBsYWNlKC9eXFxkKz4vLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRleHRjbGVhbiA9IGh0ZXh0Y2xlYW4udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZnRlckggPSBodGV4dGNsZWFuLm1hdGNoKC88aFxcZCs+KC4rKS9nbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbG9nIDEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFmdGVySCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFmdGVySC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJIID0gYWZ0ZXJIWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVySCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2xvZyAyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhZnRlckgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZWZvcmVIID0gaHRleHRjbGVhbi5yZXBsYWNlKC88aFxcZCs+KC4rKS9nbSwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2xvZyAzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhiZWZvcmVIKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdsb2cgNCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coaHRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh3aXRoTm8gPSBhZnRlckguc3BsaXQoJzwnKVsxXS5zcGxpdCgnPicpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2xvZyA1Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhod2l0aE5vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25seU5vID0gaHdpdGhOby5yZXBsYWNlKFwiaFwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdsb2cgNicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cob25seU5vKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVySCA9IGFmdGVySC5yZXBsYWNlKC88P2g/XFxkKz4vLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbG9nIDcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGFmdGVySCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZUggJiYgYmVmb3JlSC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSB3cC5ibG9ja3MuY3JlYXRlQmxvY2soJ2NvcmUvcGFyYWdyYXBoJywgeyBjb250ZW50OiBiZWZvcmVIIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmluc2VydEJsb2NrcyhibG9jayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlckggJiYgYWZ0ZXJILnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jaygnY29yZS9oZWFkaW5nJywgeyBsZXZlbDogb25seU5vLCBjb250ZW50OiBhZnRlckggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmRhdGEuZGlzcGF0Y2goJ2NvcmUvZWRpdG9yJykuaW5zZXJ0QmxvY2tzKGJsb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGluZ190ZXh0ID0gcmVzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhfbGV2ZWwgPSByZXNbMV0uc3BsaXQoJzwnKVsxXS5zcGxpdCgnPicpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZ190ZXh0ID0gaGVhZGluZ190ZXh0LnNwbGl0KCc8JytoX2xldmVsKyc+JylbMV0uc3BsaXQoJzwvJytoX2xldmVsKyc+JylbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoX2xldmVsID0gaF9sZXZlbC5yZXBsYWNlKFwiaFwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gd3AuYmxvY2tzLmNyZWF0ZUJsb2NrKCAnY29yZS9oZWFkaW5nJywgeyBjb250ZW50OiBoZWFkaW5nX3RleHQgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ibG9jayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jayggJ2NvcmUvaGVhZGluZycsIHsgY29udGVudDogaGVhZGluZ190ZXh0LCBsZXZlbDpoX2xldmVsIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmRhdGEuZGlzcGF0Y2goICdjb3JlL2VkaXRvcicgKS5pbnNlcnRCbG9ja3MoIGJsb2NrICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5pbmRleE9mKFwiaW5rX2NvbnRhaW5lclwiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIjwvcD48L3A+XCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCI8L3A+XCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCI8cD48cD5cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIjxwPlwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCc8ZGl2IGNsYXNzPVwiaW5rX2NvbnRhaW5lclwiPicsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPC9kaXY+XCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jayhcImNvcmUtZW1iZWQveW91dHViZVwiLCB7IHVybDogdmFsdWUsIGFsbG93UmVzcG9uc2l2ZTogdHJ1ZSwgY2xhc3NOYW1lOiBcIndwLWVtYmVkLWFzcGVjdC0xNi05IHdwLWhhcy1hc3BlY3QtcmF0aW9cIiwgcHJvdmlkZXJOYW1lU2x1ZzogXCJ5b3V0dWJlXCIsIHR5cGU6IFwidmlkZW9cIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ibG9jayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jayggJ2NvcmUvaHRtbCcsIHsgY29udGVudDogdmFsdWUgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmluc2VydEJsb2NrcyhibG9jayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPC9wPlwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSB3cC5ibG9ja3MuY3JlYXRlQmxvY2soJ2NvcmUvcGFyYWdyYXBoJywgeyBjb250ZW50OiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3AuZGF0YS5kaXNwYXRjaCgnY29yZS9lZGl0b3InKS5pbnNlcnRCbG9ja3MoYmxvY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrX2luayA9IHdwLmJsb2Nrcy5jcmVhdGVCbG9jaygnaW5rLWFkZGRhdGEvaW5rLWFkZGRhdGEtaW5rJywge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmluc2VydEJsb2NrcyhibG9ja19pbmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmVkaXRQb3N0KHsgZmVhdHVyZWRfbWVkaWE6IHJlc3BvbnNlLnRodW1ibmFpbF9pZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcG9zdC10aXRsZS0wJykudmFsKHJlc3BvbnNlLnRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJpbmtfcG9zdF90aXRsZVwiXScpLnZhbChyZXNwb25zZS50aXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdoMy5fc25pcHBldF9oZWFkJykuaHRtbChyZXNwb25zZS50aXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5kYXRhLmRpc3BhdGNoKCdjb3JlL2VkaXRvcicpLmVkaXRQb3N0KHsgdGl0bGU6IHJlc3BvbnNlLnRpdGxlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS50aHVtYm5haWxfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJfdGh1bWJuYWlsX2lkXCJdJykudmFsKHJlc3BvbnNlLnRodW1ibmFpbF9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiZmVhdHVyZWRfbWVkaWFcIl0nKS52YWwocmVzcG9uc2UudGh1bWJuYWlsX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWdzcmMgPSAnPGltZyB3aWR0aD1cIjI2NlwiIGhlaWdodD1cIjEzNVwiIHNyYz1cIicgKyByZXNwb25zZS50aHVtYm5haWxfdXJsICsgJ1wiIGNsYXNzPVwiYXR0YWNobWVudC0yNjZ4MjY2IHNpemUtMjY2eDI2NlwiPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc2V0LXBvc3QtdGh1bWJuYWlsJykuaHRtbChpbWdzcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5pbmtfbWV0YXRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiaW5rX21ldGF0aXRsZVwiXScpLnZhbChyZXNwb25zZS5pbmtfbWV0YXRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb190aXRsZVwiXScpLnZhbChyZXNwb25zZS5pbmtfbWV0YXRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJpbmtfbWV0YXRpdGxlXCJdJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb190aXRsZVwiXScpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlua19tZXRhZGVzYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2lua19tZXRhZGVzYycpLnZhbChyZXNwb25zZS5pbmtfbWV0YWRlc2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInlvYXN0X3dwc2VvX21ldGFkZXNjXCJdJykudmFsKHJlc3BvbnNlLmlua19tZXRhZGVzYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdzcGFuLl9zbmlwcGV0X2Rlc2MnKS5odG1sKHJlc3BvbnNlLmlua19tZXRhZGVzYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaW5rX21ldGFkZXNjJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb19tZXRhZGVzY1wiXScpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdzcGFuLl9zbmlwcGV0X2Rlc2MnKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaW5rX2tleXdvcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaW5rX2tleXdvcmRzJykudmFsKHJlc3BvbnNlLmlua19rZXl3b3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjZm9jdXMta2V5d29yZC1pbnB1dC1tZXRhYm94JykudmFsKHJlc3BvbnNlLmlua19rZXl3b3Jkcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb19mb2N1c2t3XCJdJykudmFsKHJlc3BvbnNlLmlua19rZXl3b3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaW5rX2tleXdvcmRzJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ5b2FzdF93cHNlb19mb2N1c2t3XCJdJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChcIiN3cHNlb19tZXRhXCIpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2lua19jdXN0b21maWVsZHNcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImlua19pbXBvcnRfZGF0YVwiXScpLnZhbCgnMScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnLmxvYWRlcl9vdmVybGF5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJqc29uXCIpLmVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcubG9hZGVyX292ZXJsYXknKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIHdhcyBzb21lIHByb2JsZW0gaW4gcHJvY2Vzc2luZyB0aGUgZmlsZSwgcGxlYXNlIHRyeSBhZ2Fpbi4gSWYgdGhlIHByb2JsZW0gcGVyc2lzdHMsIHBsZWFzZSBjaGVjayBmaWxlIHNpemUgYW5kIG1ha2Ugc3VyZSBzZXJ2ZXIgdGltZSBpcyBsYXJnZSBlbm91Z2ggdG8gcHJvY2VzcyB0aGUgZmlsZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIitcIlxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2F2ZSBmdW5jdGlvbiBkZWZpbmVzIHRoZSB3YXkgaW4gd2hpY2ggdGhlIGRpZmZlcmVudCBhdHRyaWJ1dGVzIHNob3VsZCBiZSBjb21iaW5lZFxuICAgICAqIGludG8gdGhlIGZpbmFsIG1hcmt1cCwgd2hpY2ggaXMgdGhlbiBzZXJpYWxpemVkIGJ5IEd1dGVuYmVyZyBpbnRvIHBvc3RfY29udGVudC5cbiAgICAgKlxuICAgICAqIFRoZSBcInNhdmVcIiBwcm9wZXJ0eSBtdXN0IGJlIHNwZWNpZmllZCBhbmQgbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGxpbmsgaHR0cHM6Ly93b3JkcHJlc3Mub3JnL2d1dGVuYmVyZy9oYW5kYm9vay9ibG9jay1hcGkvYmxvY2stZWRpdC1zYXZlL1xuICAgICAqL1xuXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShwcm9wcykge1xuICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoSW5uZXJCbG9ja3MuQ29udGVudCwgbnVsbClcbiAgICAgICAgKTtcbiAgICB9XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/block/inknew.js\n");

/***/ }),

"./src/block/style.scss":
/*!******************************!*\
  !*** ./src/block/style.scss ***!
  \******************************/
/*! no static exports found */
(function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmxvY2svc3R5bGUuc2Nzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9zdHlsZS5zY3NzPzRlOTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/block/style.scss\n");

}),

"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
(function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _block_ink_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./block/inknew.js */ \"./src/block/inknew.js\");\n/**\n * Import blocks\n */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/MzcwMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEltcG9ydCBibG9ja3NcbiAqL1xuaW1wb3J0ICcuL2Jsb2NrL2luay5qcyc7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

})

});
